<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MNKS2MSTRS:301 – Subconscious Reconditioning</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Hero Section -->
  <section class="hero">
    <h1>MNKS2MSTRS:301 — Subconscious Reconditioning, Character Development & Systemized Execution</h1>
    <p>Rewire your subconscious. Install new systems. Execute relentlessly.</p>
    <!-- Lead Capture Form Top -->
    <form id="leadForm">
      <input type="text" name="name" placeholder="Your Name" required>
      <input type="email" name="email" placeholder="Your Email" required>
      <!-- Hidden UTM + source fields -->
      <input type="hidden" name="utm_source" id="utm_source">
      <input type="hidden" name="utm_medium" id="utm_medium">
      <input type="hidden" name="utm_campaign" id="utm_campaign">
      <input type="hidden" name="utm_content" id="utm_content">
      <input type="hidden" name="source" value="mnks2mstrs-301">
      <button type="submit">Join the Waitlist</button>
    </form>
  </section>

  <!-- Problem Section -->
  <section class="problem">
    <h2>The Problem</h2>
    <p>Most people don’t fail because of laziness. They fail because their subconscious identity is misaligned with their goals. They try to force discipline onto a self-image that resists it—causing hesitation, burnout, and wasted potential.</p>
  </section>

  <!-- Promise Section -->
  <section class="promise">
    <h2>The Promise</h2>
    <ul>
      <li>Rewrite your subconscious identity.</li>
      <li>Hardwire execution and decision-making.</li>
      <li>Turn strategy, discipline, and action into automatic behaviors.</li>
    </ul>
  </section>

  <!-- Modules Section -->
  <section class="modules">
    <h2>What You’ll Master</h2>
    <ul>
      <li>Module 1: Destroy the Old Self, Install the New</li>
      <li>Module 2: Strategic Execution & Decision-Making</li>
      <li>Module 3: Metaphysics, Synchronicity & Reality Engineering</li>
      <li>Module 4: Psychological Warfare & Influence</li>
      <li>Module 5: Wealth, Business & Strategic Power Moves</li>
      <li>Module 6: Synthesis & Final Execution</li>
    </ul>
  </section>

  <!-- Call to Action Section -->
  <section class="cta">
    <h2>Ready to Recondition, Evolve, Execute?</h2>
    <!-- Lead Capture Form Bottom -->
    <form id="leadFormBottom">
      <input type="text" name="name" placeholder="Your Name" required>
      <input type="email" name="email" placeholder="Your Email" required>
      <!-- Hidden UTM + source fields -->
      <input type="hidden" name="utm_source" id="utm_source_bottom">
      <input type="hidden" name="utm_medium" id="utm_medium_bottom">
      <input type="hidden" name="utm_campaign" id="utm_campaign_bottom">
      <input type="hidden" name="utm_content" id="utm_content_bottom">
      <input type="hidden" name="source" value="mnks2mstrs-301">
      <button type="submit">Join the Waitlist</button>
    </form>
  </section>

  <!-- JavaScript for Form Submission + UTM Handling -->
  <script>
    // Populate hidden UTM fields from URL parameters or localStorage
    function getUTMParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param) || localStorage.getItem(param) || '';
    }

    const utmFields = ['utm_source','utm_medium','utm_campaign','utm_content'];
    utmFields.forEach(field => {
      const value = getUTMParam(field);
      if(value){
        const inputTop = document.getElementById(field);
        const inputBottom = document.getElementById(field + '_bottom');
        if(inputTop) inputTop.value = value;
        if(inputBottom) inputBottom.value = value;
        localStorage.setItem(field, value); // persist for later
      }
    });

    // Async form submission function
    async function submitForm(event) {
      event.preventDefault();
      const form = event.target;
      const formData = new FormData(form);
      const submitButton = form.querySelector('button');
      submitButton.disabled = true;
      submitButton.textContent = 'Submitting...';

      try {
        const response = await fetch('https://YOUR_WORKER_URL', {
          method: 'POST',
          body: formData
        });
        const result = await response.json();
        if(result.success){
          alert("Thanks! You're on the list.");
          form.reset();
        } else {
          alert("Something went wrong. Try again.");
        }
      } catch (err) {
        console.error(err);
        alert("Submission failed. Check console.");
      } finally {
        submitButton.disabled = false;
        submitButton.textContent = 'Join the Waitlist';
      }
    }

    document.getElementById('leadForm').addEventListener('submit', submitForm);
    document.getElementById('leadFormBottom').addEventListener('submit', submitForm);
  </script>

</body>
</html>
